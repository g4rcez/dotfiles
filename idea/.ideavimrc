"" Find more examples here: https://jb.gg/share-ideavimrc
let mapleader=" "
""""""""""""""""""""""""""""""""""" Plugin """"""""""""""""""""""""""""""""""""""
"" -- Nerdtree
set NERDTree
let g:NERDTreeMapActivateNode='l'
let g:NERDTreeMapJumpParent='l'

"" -- Surround
set surround

"" -- Multiple cursors
set multiple-cursors
nmap <C-n> <plug>NextWholeOccurrence
xmap <C-n> <plug>NextWholeOccurrence
nmap g<C-n> <plug>NextOccurrence
xmap g<C-n> <plug>NextOccurrence
xmap <C-x> <plug>SkipOccurrence
xmap <C-p> <plug>RemoveOccurrence

"" matchit.vim
set matchit

"" --- easymotion
set easymotion
let g:EasyMotion_do_mapping = 0
let g:EasyMotion_smartcase = 1
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

""""""""""""""""""""""""""""" Vim config """"""""""""""""""""""""""""""""""""""""""""""""""""
set nocompatible
set expandtab
set ignorecase
set incsearch
set number
set showmode
set showcmd
set smartcase
set smartindent
set autoindent
set magic
set visualbell
set matchpairs
set nrformats
set encoding=utf-8
set spell
set hlsearch
set smarttab
set ttyfast
set cursorline
set cursorcolumn
set si
set laststatus=2
set title
set autoread
set shiftwidth=4
set tabstop=4
set sneak
set exchange
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

"" -- Idea things
set ideajoin
set ideamarks
set idearefactormode=keep
set ideaput
set clipboard+=ideaput,unnamed
set ideastrictmode

"""""""""""""" Clipboard support
nnoremap yy "+yy
vnoremap y "+y
nnoremap p "+p
vnoremap p "+p
nnoremap P "+P
vnoremap P "+P
" system clipboard
vmap <leader>y "+y
vmap <leader>d "+d
nmap <leader>y "+yy
nmap <leader>p "+p
nmap <leader>P "+P
vmap <leader>p "+p
vmap <leader>P "+P

"" -- Map IDE actions to IdeaVim -- https://jb.gg/abva4t
vnoremap < <gv
vnoremap > >gv
map Q gq
map U <C-R>

""""""""""""""""""""""""""""Leader Maps """"""""""""""""""""""""""""""""""""""""""""""""""""""
map <leader>j <action>(SurroundWithLiveTemplate)
nmap <leader>/ <action>(ShowErrorDescription)
nmap <leader><leader> <action>(ReformatCode)
nmap <leader>e <action>(GotoNextError)
nmap <leader>f <plug>(easymotion-f)
nmap <leader>g <action>(Git.Menu)
nmap <leader>q <action>(CloseEditor)
nmap <leader>w <action>(SaveAll)
nmap <leader>r <action>(RenameElement)
nmap <leader>s <plug>(easymotion-s)
nmap <leader>t <action>(ActivateTerminalToolWindow)
nmap <leader>T <action>(ReopenClosedTab)
nmap <leader>Q <action>(ReopenClosedTab)
nmap <leader>u <action>(FindUsages)
nmap <leader>z <action>(ToggleDistractionFreeMode)

"" Split
nmap <leader>H <action>(SplitHorizontally)
nmap <leader>V <action>(SplitVertically)

"" Move Tabs
nmap <leader>k <action>(PreviousTab)
nmap <leader>h <action>(PreviousTab)
nmap <leader>a <action>(PreviousTab)
nmap <leader>j <action>(NextTab)
nmap <leader>l <action>(NextTab)
nmap <leader>d <action>(NextTab)
""""""""""""""""""""""""""""Other keymaps """"""""""""""""""""""""""""""""""""""""""""""""""""""
nmap <S-Enter> O<Esc>
nmap gu <action>(ShowUsages)
nmap gU <action>(FindUsages)
nmap gb <Action>(ShowBookmarks)
nmap gm <Action>(ToggleBookmark)
nmap [[ <action>(MethodUp)
nmap ]] <action>(MethodDown)
vnoremap / :action Find<CR>
nnoremap / :action Find<CR>
nnoremap <C-t> :NERDTreeFocus<CR>
