# If you come from bash you might have to change your $PATH.
# Path to your oh-my-zsh installation.
export ZSH="/home/garcez/.oh-my-zsh"
export TERM=xterm-color
ZSH_THEME="vandalvnl"
ENABLE_CORRECTION="true"
HIST_STAMPS="yyyy-mm-dd"

plugins=(
  compleat
  git
  github
  z
  zsh-autosuggestions
  zsh-syntax-highlighting
)

source $ZSH/oh-my-zsh.sh

# User configuration
export MANPATH="/usr/local/man:$MANPATH"

if [[ -n $SSH_CONNECTION ]]; then
  export EDITOR='vim'
else
  export EDITOR='nvim'
fi

export ARCHFLAGS="-arch x86_64"

. $HOME/.asdf/asdf.sh

. $HOME/.asdf/completions/asdf.bash

export PATH=$PATH:$HOME/.bin/VSCode-linux-x64

export SDKMAN_DIR="/home/garcez/.sdkman"
[[ -s "/home/garcez/.sdkman/bin/sdkman-init.sh" ]] && source "/home/garcez/.sdkman/bin/sdkman-init.sh"

export PATH=$PATH:$HOME/.local/bin
export PATH=$PATH:$HOME/dotfiles/bin

if [ -d "$HOME/.bin/adb-fastboot/platform-tools" ] ; then
  export PATH="$HOME/.bin/adb-fastboot/platform-tools:$PATH"
fi

# Unix utils
alias lz='ls -lSr'
alias wtf='pwd'
alias cp='cp -v'
alias rm='rm -v'
alias mv='mv -v'
alias more='less'
alias df='df -h'
alias egrep='egrep --color=auto'
alias fgrep='fgrep --color=auto'
alias grep='grep --color=auto'

# For MacOS fanboys
alias pbcopy='xclip -sel clip'
alias pbpaste='xclip -selection clipboard -o'

# Git utils
alias add='git add'
alias commit='git commit -m'
alias push='git push -u'
alias tags='git tag | sort -V'
alias tag='git tag'

# Alias Tools
alias icat="kitty +kitten icat --silent"
alias alfred="/home/garcez/Workspace/alfred/cli/index.js"
alias kali="docker run -t -v /home/garcez/.bin/kali -i kalilinux/kali-linux-docker /bin/bash"

autoload -Uz compinit
compinit
kitty + complete setup zsh | source /dev/stdin

function memory(){
	ps -eo size,pid,user,command --sort -size | awk '{ hr=$1/1024 ; printf("%13.2f MB ",hr) } { for ( x=4 ; x<=NF ; x++ ) { printf("%s ",$x) } print "" }'
}

function clone(){
	git clone git@github.com:$1
}

function clonecd(){
	git clone git@github.com:$1
	cd $(echo $1 | cut -d '/' -f2-)
}

function sysinfo(){
	ps -A --sort -rsz -o pid,comm,pmem,pcpu | awk "NR<=30"
}

autoload -Uz compinit
compinit

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
export PATH="$PATH:/home/garcez/.dotnet/tools"

########## CLI Utils ##########

setopt append_history
setopt auto_pushd
setopt autocd
setopt extended_glob
setopt extended_history
setopt hist_expire_dups_first
setopt hist_find_no_dups
setopt hist_ignore_all_dups
setopt hist_ignore_dups
setopt hist_ignore_space
setopt hist_reduce_blanks
setopt hist_save_no_dups
setopt pushd_ignore_dups
setopt pushd_minus
setopt share_history
typeset -A ZSH_HIGHLIGHT_STYLES
ZSH_HIGHLIGHT_HIGHLIGHTERS=(main brackets pattern)
ZSH_HIGHLIGHT_PATTERNS+=("rm -rf *" "fg=red")
ZSH_HIGHLIGHT_PATTERNS+=("mv *" "fg=yellow")
ZSH_HIGHLIGHT_STYLES[alias]="fg=green,bold"
ZSH_HIGHLIGHT_STYLES[builtin]="fg=green,bold"
ZSH_HIGHLIGHT_STYLES[function]="fg=green,bold"
ZSH_HIGHLIGHT_STYLES[command]="fg=green,bold"
ZSH_HIGHLIGHT_STYLES[precommand]="fg=blue,bold"
ZSH_HIGHLIGHT_STYLES[hashed-command]="fg=green,bold"
ZSH_HIGHLIGHT_STYLES[commandseparator]="fg=yellow"
ZSH_HIGHLIGHT_STYLES[redirection]="fg=yellow,bold"
ZSH_HIGHLIGHT_STYLES[bracket-level-1]="fg=cyan"
ZSH_HIGHLIGHT_STYLES[bracket-level-2]="fg=green"
ZSH_HIGHLIGHT_STYLES[bracket-level-3]="fg=magenta"
ZSH_HIGHLIGHT_STYLES[bracket-level-4]="fg=yellow"
ZSH_HIGHLIGHT_HIGHLIGHTERS=(main brackets pattern)
ZSH_HIGHLIGHT_STYLES[default]=none
ZSH_HIGHLIGHT_STYLES[unknown-token]=fg=009
ZSH_HIGHLIGHT_STYLES[hashed-command]=fg=009
ZSH_HIGHLIGHT_STYLES[path]="fg=blue,underline"
ZSH_HIGHLIGHT_STYLES[path_pathseparator]="fg=blue,underline"
ZSH_HIGHLIGHT_STYLES[globbing]=fg=063
ZSH_HIGHLIGHT_STYLES[history-expansion]=fg=white,underline
ZSH_HIGHLIGHT_STYLES[single-hyphen-option]=none
ZSH_HIGHLIGHT_STYLES[double-hyphen-option]=none
ZSH_HIGHLIGHT_STYLES[back-quoted-argument]=none
ZSH_HIGHLIGHT_STYLES[single-quoted-argument]=fg=063
ZSH_HIGHLIGHT_STYLES[double-quoted-argument]=fg=063
ZSH_HIGHLIGHT_STYLES[dollar-double-quoted-argument]=fg=009
ZSH_HIGHLIGHT_STYLES[back-double-quoted-argument]=fg=009

bindkey '^[OH' beginning-of-line
bindkey '^[OF' end-of-line
